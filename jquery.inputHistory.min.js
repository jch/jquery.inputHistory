(function(){(function(a){var b,c;return b=function(){function a(a){this.size=a.size||50,this.values=[],this.index=0}return a.name="InputHistory",a.prototype.push=function(a){return this.values.unshift(a),this.values.splice(this.size)},a.prototype.prev=function(){var a;return this.index>this.size-1&&(this.index=0),a=this.values[this.index],this.index+=1,a},a.prototype.next=function(){return this.index-=1,this.index<0?(this.index=0,""):this.values[this.index]},a}(),c=function(a,b){b||(b=function(a){});switch(typeof a){case"number":return function(b){return b.keyCode===a};case"string":return function(b){return""+b.keyCode===a};case"function":return a;default:return b}},a.fn.inputHistory=function(a){var d,e=this;return a||(a={}),a.data||(a.data="inputHistory"),a.store=c(a.store,function(a){return a.keyCode===13&&!a.shiftKey}),a.prev=c(a.prev,function(a){return a.keyCode===38||a.ctrlKey&&a.keyCode===80}),a.next=c(a.next,function(a){return a.keyCode===40||a.ctrlKey&&a.keyCode===78}),d=this.data(a.data)||new b(a),this.data(a.data,d),this.bind("keydown",function(b){a.store(b)&&d.push(e.val()),a.prev(b)&&e.val(d.prev())&&b.preventDefault();if(a.next(b))return e.val(d.next())&&b.preventDefault()}),this}})(jQuery)}).call(this);